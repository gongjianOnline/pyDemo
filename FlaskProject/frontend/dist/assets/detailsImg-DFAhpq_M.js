import{d as I,o as M,r as y,X as z,c as u,e,f as l,aa as B,w as n,g as m,t as a,h as i,x as w,F as h,n as H,k as r,Z as S,a as Y,O as _}from"./index-iZTeaJac.js";import{j as q}from"./index-C-7UpYWQ.js";import{N as F}from"./NiftiViewer-BE492dju.js";const E={class:"min-h-screen bg-gray-50 py-8"},L={class:"max-w-7xl mx-auto px-4"},R={class:"mb-4"},U={class:"mb-8"},A={class:"flex flex-wrap gap-8 text-sm text-gray-600"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},K={class:"mb-4 pb-4 border-b border-gray-100"},O={class:"flex items-center justify-between mb-2"},P={class:"font-semibold text-gray-900"},T={class:"text-sm text-gray-500"},X={class:"space-y-3 mb-6"},Z={class:"text-sm font-mono bg-gray-50 px-2 py-1 rounded border text-gray-800"},J={class:"flex justify-between items-center"},Q={class:"text-sm font-semibold text-gray-900"},W={class:"space-y-2 flex flex-col justify-between items-center"},ee={class:"w-full"},te={class:"w-full"},se={key:0,class:"text-center py-12"},de=I({__name:"detailsImg",setup(oe){const f=z(),k=Y();M(()=>{g()});const p=y([]),g=async()=>{const d=await q({inference_id:f.query.inference_id});p.value=d.data},C=d=>{const t=`/${d.path}`,x="影像分割训练模板",s=document.createElement("a");s.href=t,s.download=x,document.body.appendChild(s),s.click(),document.body.removeChild(s)},D=()=>{k.back()},c=y(!1),v=y(""),N=d=>{c.value=!0,v.value=`/${d.path}`};return(d,t)=>{const x=m("el-icon"),s=m("el-button"),V=m("el-tag"),$=m("el-dialog");return _(),u(h,null,[e("div",E,[e("div",L,[e("div",R,[l(s,{onClick:D,type:"text",class:"text-blue-600 hover:text-blue-800 p-0 h-auto font-medium"},{default:n(()=>[l(x,{class:"mr-1",size:"16"},{default:n(()=>[l(i(S))]),_:1}),t[1]||(t[1]=r(" 返回上一级 "))]),_:1,__:[1]})]),e("div",U,[t[4]||(t[4]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"模型推理详情",-1)),e("div",A,[e("div",null,[t[2]||(t[2]=e("span",{class:"font-medium"},"模型名称：",-1)),e("span",null,a(i(f).query.inference_name),1)]),e("div",null,[t[3]||(t[3]=e("span",{class:"font-medium"},"提交时间：",-1)),e("span",null,a(i(w)(i(f).query.submit_time).format("YYYY-MM-DD HH:mm:ss")),1)])])]),e("div",G,[(_(!0),u(h,null,H(p.value,(o,b)=>(_(),u("div",{key:b,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200"},[e("div",K,[e("div",O,[e("h3",P,"推理结果 "+a(b+1),1),l(V,{type:o.dice>=.8?"success":o.dice>=.6?"warning":"danger",size:"small"},{default:n(()=>[r(a(o.dice),1)]),_:2},1032,["type"])]),e("p",T,a(i(w)(o.created_at).format("MM-DD HH:mm")),1)]),e("div",X,[e("div",null,[t[5]||(t[5]=e("div",{class:"text-xs text-gray-500 mb-1"},"网络配置",-1)),e("div",Z,a(o.fold),1)]),e("div",J,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500 mb-1"},"K折交叉验证",-1)),e("div",Q,a(o.model_type)+" 折",1)])]),e("div",W,[e("div",ee,[l(s,{type:"primary",size:"small",class:"w-full",onClick:j=>N(o)},{default:n(()=>t[7]||(t[7]=[r(" 查看影像 ")])),_:2,__:[7]},1032,["onClick"])]),e("div",te,[l(s,{type:"success",size:"small",class:"w-full",onClick:j=>C(o)},{default:n(()=>t[8]||(t[8]=[r(" 下载影像 ")])),_:2,__:[8]},1032,["onClick"])])])]))),128))]),p.value.length===0?(_(),u("div",se,[t[10]||(t[10]=e("div",{class:"text-gray-400 text-lg mb-4"},"暂无推理结果",-1)),l(s,{type:"primary",onClick:g},{default:n(()=>t[9]||(t[9]=[r("刷新数据")])),_:1,__:[9]})])):B("",!0)])]),l($,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),width:"80%","before-close":()=>c.value=!1},{default:n(()=>[l(F,{Select_url:v.value},null,8,["Select_url"])]),_:1},8,["modelValue","before-close"])],64)}}});export{de as default};
