import{d as N,o as j,r as f,au as A,c as d,e,a1 as O,f as o,w as l,g as _,F as w,n as k,k as c,t as n,p as P,Y as C,h as m,a2 as Y,x as T,ab as V,G as I,a as $,O as r,P as q}from"./index-iZTeaJac.js";import{p as E}from"./index-FnU4Z0QY.js";const G={class:"min-h-screen bg-gray-50 px-4 py-6"},R={class:"max-w-7xl mx-auto"},J={class:"mb-8 flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-100"},K={class:"flex flex-col"},Q={class:"flex items-center space-x-4"},U={id:"fileContainer",class:"mt-3"},W={class:"flex items-center space-x-3"},X={class:"ml-1 text-xs opacity-75"},Z={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ee={class:"p-6"},te={class:"mb-4"},se=["title"],ae={class:"flex items-center"},oe={class:"space-y-3 mb-6"},le={class:"flex items-center text-sm"},ne={class:"text-gray-700"},re={class:"flex items-center text-sm"},ie={class:"text-gray-600 font-medium"},de={class:"pt-4 border-t border-gray-100 text-right"},ce=["onClick"],ue={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center"},me={class:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},ge=N({__name:"index",setup(be){const x=$();j(()=>{S()});const v=()=>{x.push({name:"pathologyOmics_newAdd"})},i=f([]),S=async()=>{const s=await E();i.value=s.data},z=s=>{x.push({name:"pathologyOmics_details",query:{inference_id:s.inference_id,inference_name:s.inference_name,submit_time:s.submit_time}})},D=s=>({0:"from-orange-400 to-orange-500",1:"from-blue-400 to-blue-500",2:"from-green-400 to-green-500",3:"from-red-400 to-red-500"})[s]||"from-gray-400 to-gray-500",F=s=>({0:"warning",1:"primary",2:"success",3:"danger"})[s]||"info",M=s=>({0:"待处理",1:"处理中",2:"完成",3:"失败"})[s]||"未知",u=f("all"),L=f([{label:"全部",value:"all"},{label:"完成",value:"2"},{label:"待处理",value:"0"},{label:"失败",value:"3"}]),B=s=>{u.value=s},H=s=>s==="all"?i.value.length:i.value.filter(t=>String(t.status)===s).length,p=A(()=>u.value==="all"?i.value:i.value.filter(s=>String(s.status)===u.value));return(s,t)=>{const h=_("el-tag"),g=_("el-button"),b=_("el-icon");return r(),d("div",G,[e("div",R,[t[9]||(t[9]=O('<div class="mb-2 flex items-center" data-v-70c3fcb3><div class="flex items-center space-x-3 mb-3" data-v-70c3fcb3><div class="w-1 h-8 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full" data-v-70c3fcb3></div><h1 class="text-3xl font-bold text-gray-800" data-v-70c3fcb3>病理组学</h1></div><p class="text-gray-600 ml-7" data-v-70c3fcb3>管理和查看所有病理组学的执行情况</p></div>',1)),e("div",J,[e("div",K,[e("div",Q,[t[0]||(t[0]=e("h2",{class:"text-xl font-semibold text-gray-700"},"任务列表",-1)),o(h,{class:"bg-blue-50 text-blue-700 border-blue-200 font-medium"},{default:l(()=>[c(" 共 "+n(i.value.length)+" 个任务 ",1)]),_:1})]),e("div",U,[e("div",W,[t[1]||(t[1]=e("span",{class:"text-sm font-medium text-gray-600"},"状态筛选：",-1)),(r(!0),d(w,null,k(L.value,a=>(r(),P(g,{key:a.value,type:u.value===a.value?"primary":"default",size:"small",onClick:y=>B(a.value),class:C(["transition-all duration-200",u.value===a.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:border-blue-400 hover:text-blue-600"])},{default:l(()=>[c(n(a.label)+" ",1),e("span",X,"("+n(H(a.value))+")",1)]),_:2},1032,["type","onClick","class"]))),128))])])]),o(g,{type:"primary",size:"large",onClick:v,class:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 px-6"},{default:l(()=>[o(b,{class:"mr-2"},{default:l(()=>[o(m(Y))]),_:1}),t[2]||(t[2]=c(" 新增方案 "))]),_:1,__:[2]})]),p.value.length>0?(r(),d("div",Z,[(r(!0),d(w,null,k(p.value,(a,y)=>(r(),d("div",{key:y,class:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 overflow-hidden"},[e("div",{class:C(["h-1 bg-gradient-to-r",D(a.status)])},null,2),e("div",ee,[e("div",te,[e("h3",{class:"text-lg font-semibold text-gray-800 mb-2 truncate",title:a.inference_name},n(a.inference_name),9,se),e("div",ae,[o(h,{type:F(a.status),size:"small",class:"font-medium"},{default:l(()=>[c(n(M(a.status)),1)]),_:2},1032,["type"])])]),e("div",oe,[e("div",le,[t[3]||(t[3]=e("span",{class:"text-gray-500 w-16 flex-shrink-0"},"提交时间",-1)),e("span",ne,n(m(T)(a.submit_time).format("YYYY-MM-DD HH:mm")),1)]),e("div",re,[t[4]||(t[4]=e("span",{class:"text-gray-500 w-16 flex-shrink-0"},"完成时间",-1)),e("span",ie,n(a.completed_time!==null?m(T)(a.completed_time).format("YYYY-MM-DD HH:mm"):"暂无"),1)])]),e("div",de,[e("button",{size:"small",class:"px-4 py-1 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition-all duration-200 font-medium border border-blue-200",onClick:V(fe=>z(a),["stop"])},t[5]||(t[5]=[e("i",{class:"fas fa-eye mr-1"},null,-1),c(" 查看详情 ")]),8,ce)])])]))),128))])):(r(),d("div",ue,[e("div",me,[o(b,{size:"24",class:"text-gray-400"},{default:l(()=>[o(m(I))]),_:1})]),t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-600 mb-2"},"暂无任务",-1)),t[8]||(t[8]=e("p",{class:"text-gray-500 mb-6"},'点击"新增方案"开始创建您的第一个病理组学任务',-1)),o(g,{type:"primary",onClick:v,class:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 border-0"},{default:l(()=>[o(b,{class:"mr-2"},{default:l(()=>[o(m(Y))]),_:1}),t[6]||(t[6]=c(" 新增方案 "))]),_:1,__:[6]})]))])])}}}),ve=q(ge,[["__scopeId","data-v-70c3fcb3"]]);export{ve as default};
