import{d as B,r as b,o as R,c as m,e as t,a1 as T,aa as $,f as o,w as l,g as f,F as Y,n as S,k as d,t as r,p as A,Y as D,h as n,a2 as M,x as _,ab as L,G as I,af as O,U as V,a as q,O as i,P as E}from"./index-iZTeaJac.js";import{c as G}from"./index-Bmr-LazT.js";const J={class:"min-h-screen bg-gray-50 px-4 py-6"},U={class:"max-w-7xl mx-auto"},K={class:"mb-8 flex items-center justify-between bg-white p-6 rounded-xl shadow-sm border border-gray-100"},Q={class:"flex flex-col"},W={class:"flex items-center space-x-4"},X={id:"fileContainer",class:"mt-4"},Z={class:"flex items-center space-x-3"},tt={class:"ml-1 text-xs opacity-75"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},st=["onClick"],at={class:"p-6"},ot={class:"mb-4"},lt=["title"],rt={class:"flex items-center justify-between"},nt={class:"text-sm text-gray-500"},dt={class:"space-y-3 mb-6"},it={class:"flex items-center text-sm"},ut={class:"text-gray-700 font-mono text-xs bg-gray-100 px-2 py-1 rounded"},ct={class:"flex items-center text-sm"},mt={class:"text-gray-700"},xt={class:"flex items-center text-sm"},gt={class:"text-gray-700"},bt={class:"flex items-center text-sm"},vt={class:"text-gray-700"},ft={class:"pt-4 border-t border-gray-100 text-right"},_t=["onClick"],yt={key:0,class:"text-center py-16"},ht={class:"max-w-md mx-auto"},pt={class:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},wt={key:1,class:"text-center py-16"},kt={class:"max-w-md mx-auto"},Ct={class:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},Yt=B({__name:"index",setup(St){const y=q(),u=b([]),c=b([]),v=b("all"),z=b([{label:"全部",value:"all"},{label:"已完成",value:"已完成"},{label:"已中止",value:"已中止"},{label:"进行中",value:"进行中"},{label:"未开始",value:"未开始"}]),h=a=>{y.push({name:"clinicalResearchSupportAdd",query:{row:JSON.stringify(a.study_id)}})},F=a=>{switch(a){case"进行中":return"success";case"未开始":return"info";case"已完成":return"primary";case"已中止":return"danger";default:return"info"}},H=a=>({0:"from-gray-400 to-gray-500",1:"from-green-400 to-green-500",2:"from-blue-400 to-blue-500",3:"from-red-400 to-red-500"})[a]||"from-gray-400 to-gray-500",p=()=>{y.push({name:"clinicalResearchSupportAdd"})},N=async()=>{const a=await G();a.code===200&&(c.value=a.data,u.value=a.data)},w=a=>{v.value=a,a==="all"?u.value=c.value:u.value=c.value.filter(e=>e.status_text===a)},j=a=>a==="all"?c.value.length:c.value.filter(e=>e.status_text===a).length;return R(()=>{N()}),(a,e)=>{const k=f("el-tag"),g=f("el-button"),x=f("el-icon");return i(),m("div",J,[t("div",U,[e[15]||(e[15]=T('<div class="mb-2 flex items-center" data-v-137d563e><div class="flex items-center space-x-3 mb-3" data-v-137d563e><div class="w-1 h-8 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full" data-v-137d563e></div><h1 class="text-3xl font-bold text-gray-800" data-v-137d563e>临床研究支持</h1></div><p class="text-gray-600 ml-7" data-v-137d563e>管理和追踪临床研究方案的进展情况</p></div>',1)),t("div",K,[t("div",Q,[t("div",W,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold text-gray-700"},"研究方案",-1)),o(k,{class:"bg-blue-50 text-blue-700 border-blue-200 font-medium"},{default:l(()=>[d(" 共 "+r(u.value.length)+" 个方案 ",1)]),_:1})]),t("div",X,[t("div",Z,[e[2]||(e[2]=t("span",{class:"text-sm font-medium text-gray-600"},"状态筛选：",-1)),(i(!0),m(Y,null,S(z.value,s=>(i(),A(g,{key:s.value,type:v.value===s.value?"primary":"default",size:"small",onClick:C=>w(s.value),class:D(["transition-all duration-200",v.value===s.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:border-blue-400 hover:text-blue-600"])},{default:l(()=>[d(r(s.label)+" ",1),t("span",tt,"("+r(j(s.value))+")",1)]),_:2},1032,["type","onClick","class"]))),128))])])]),o(g,{type:"primary",onClick:p,size:"large",class:"!bg-gradient-to-r !from-blue-500 !to-blue-600 hover:!from-blue-600 hover:!to-blue-700 !border-0 shadow-lg hover:shadow-xl transition-all duration-300"},{default:l(()=>[o(x,{class:"mr-2"},{default:l(()=>[o(n(M))]),_:1}),e[3]||(e[3]=d(" 新增方案 "))]),_:1,__:[3]})]),t("div",et,[(i(!0),m(Y,null,S(u.value,(s,C)=>(i(),m("div",{key:s.study_id,class:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:-translate-y-0.5 transition-all duration-300 overflow-hidden cursor-pointer",onClick:P=>h(s)},[t("div",{class:D(["h-1 bg-gradient-to-r",H(s.status)])},null,2),t("div",at,[t("div",ot,[t("h3",{class:"text-lg font-semibold text-gray-800 mb-2 truncate",title:s.title},r(s.title),9,lt),t("div",rt,[o(k,{type:F(s.status_text),size:"small",class:"font-medium rounded-md"},{default:l(()=>[d(r(s.status_text),1)]),_:2},1032,["type"]),t("span",nt,"# "+r(C+1),1)])]),t("div",dt,[t("div",it,[e[4]||(e[4]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"编号",-1)),t("span",ut,r(s.code),1)]),t("div",ct,[e[5]||(e[5]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"创建",-1)),t("span",mt,r(n(_)(s.created_at).format("YYYY-MM-DD HH:mm")),1)]),t("div",xt,[e[6]||(e[6]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"开始",-1)),t("span",gt,r(n(_)(s.start_date).format("YYYY-MM-DD HH:mm")),1)]),t("div",bt,[e[7]||(e[7]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"结束",-1)),t("span",vt,r(n(_)(s.end_date).format("YYYY-MM-DD HH:mm")),1)])]),t("div",ft,[t("button",{size:"small",class:"px-4 py-1 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition-all duration-200 font-medium border border-blue-200",onClick:L(P=>h(s),["stop"])},e[8]||(e[8]=[t("i",{class:"fas fa-eye mr-1"},null,-1),d(" 查看详情 ")]),8,_t)])])],8,st))),128))]),c.value.length===0?(i(),m("div",yt,[t("div",ht,[t("div",pt,[o(x,{class:"text-4xl text-gray-400"},{default:l(()=>[o(n(I))]),_:1})]),e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"暂无研究方案",-1)),e[11]||(e[11]=t("p",{class:"text-gray-500 mb-6"},"还没有创建任何临床研究方案，立即创建第一个方案开始您的研究",-1)),o(g,{type:"primary",onClick:p,size:"large",class:"!bg-gradient-to-r !from-blue-600 !to-blue-700 hover:!from-blue-700 hover:!to-blue-800 !border-0 shadow-lg hover:shadow-xl transition-all duration-300"},{default:l(()=>[o(x,{class:"mr-2"},{default:l(()=>[o(n(M))]),_:1}),e[9]||(e[9]=d(" 创建第一个方案 "))]),_:1,__:[9]})])])):u.value.length===0?(i(),m("div",wt,[t("div",kt,[t("div",Ct,[o(x,{class:"text-4xl text-gray-400"},{default:l(()=>[o(n(O))]),_:1})]),e[13]||(e[13]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"筛选结果为空",-1)),e[14]||(e[14]=t("p",{class:"text-gray-500 mb-6"},"当前筛选条件下没有找到匹配的研究方案",-1)),o(g,{type:"primary",onClick:e[0]||(e[0]=s=>w("all")),size:"large",class:"!bg-gradient-to-r !from-blue-600 !to-blue-700 hover:!from-blue-700 hover:!to-blue-800 !border-0 shadow-lg hover:shadow-xl transition-all duration-300"},{default:l(()=>[o(x,{class:"mr-2"},{default:l(()=>[o(n(V))]),_:1}),e[12]||(e[12]=d(" 查看全部数据 "))]),_:1,__:[12]})])])):$("",!0)])])}}}),zt=E(Yt,[["__scopeId","data-v-137d563e"]]);export{zt as default};
